(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{93:function(e,t,n){e.exports=n(94)},94:function(e,t,n){"use strict";n.r(t);var a=n(26),r=n(19),o=n.n(r),i=n(30),l=n.n(i),c=n(0),s=n.n(c),u=n(16),d=n.n(u),m=n(51),f=(n(243),n(50)),v=n.n(f),h=n(91),g=n.n(h);function w(e){var t=e.schema,n=Object(c.useState)(null),r=Object(a.a)(n,2),o=r[0],i=r[1];if(!t)return s.a.createElement("div",null);var l=Object.keys(t).map(function(e){return{value:e,label:e}});return s.a.createElement("div",null,s.a.createElement(m.a,{value:{label:o},onChange:function(e){return i(e.value)},options:l}),s.a.createElement(E,{schema:t[o]}))}function p(){var e=function e(){var t=prompt("Enter the new item name:");return t?t in window.config.items?(alert("Sorry, that names already taken! Try another one..."),e()):t:alert("Canceled adding item")}();if(e){var t=function e(){var t=prompt("Enter the new item type! Please choose from: "+Object.keys(window.getItemSchemas()));return t?t in window.getItemSchemas()?t:(alert("Sorry, thats not a module type! Please choose from: "+Object.keys(window.getItemSchemas())),e()):alert("Canceled adding item")}();t&&(alert("Success! Added item. Please refresh the page to see changes."),window.addLinesToConfigString("items\t"+e+" "+t))}}function y(){var e=function e(){var t=prompt("Enter the new delta name:");return t?t in window.config.deltas?(alert("Sorry, that names already taken! Try another one..."),e()):t:alert("Canceled adding delta")}();e&&(alert("Success! Added delta. Please refresh the page to see changes."),window.addLinesToConfigString("deltas\t"+e),window.refreshGuiSchema(),window.refreshPage())}function E(e){var t=e.schema;return t?function(e){if("object"!==typeof e)return"type";for(var t=0,n=Object.entries(e);t<n.length;t++){var r=n[t],o=Object(a.a)(r,2);if(o[0],"string"===typeof o[1])return console.assert("type"in e),!0}return!1}(t)?s.a.createElement(j,{schema:t}):s.a.createElement(w,{schema:t}):s.a.createElement("div",null)}function C(e){var t=e.value,n=e.setValue;return s.a.createElement(l.a,{value:t,onChange:function(e){n(e.target.value)},inputProps:{"aria-label":"Description"}})}function b(e){var t=e.value,n=e.setValue,a=e.step,r=void 0===a?.1:a;return s.a.createElement(g.a,{type:"number",value:t,inputProps:{step:r},onChange:function(e){n(e.target.value)}})}function S(e){var t=e.value,n=e.setValue,a=e.values,r=void 0===a?[]:a;return s.a.createElement(m.a,{value:{label:t},onChange:function(e){return n(e.value)},options:r.map(function(e){return{value:e,label:e}})})}function k(e){var t=e.value,n=e.setValue;return s.a.createElement(v.a,{checked:Boolean(t),onChange:function(e){return n(e.target.checked)},color:"primary"})}function j(e){var t=e.schema,n=void 0!==t.config,a=s.a.createElement(C,{value:t.config,setValue:t.set});return"string"===t.type?a=a:"boolean"===t.type?a=s.a.createElement(k,{value:t.config,setValue:t.set}):"number"===t.type?a=s.a.createElement(b,{value:t.config,setValue:t.set}):"select"===t.type&&(a=s.a.createElement(S,{value:t.config,values:t.values,setValue:t.set})),console.assert(void 0!==a),s.a.createElement("div",null,s.a.createElement(v.a,{checked:n,disabled:"initial"===t.path[0],onChange:function(e){var n=e.target.checked;t.set(n?t.state:null)},color:"primary"}),n?a:s.a.createElement("div",null),s.a.createElement(o.a,{variant:"contained",onClick:function(){var e=prompt("Enter the new value:");null!=e&&t.set(e)},size:"small"},"State: "+t.state+"\tConfig: "+t.config))}var I=void 0;function O(){var e=[],t=Object(c.useState)({}),n=Object(a.a)(t,2),r=n[0],i=n[1];window.refreshInstance=function(){return i(window.getGuiArchitectureInstance())},x[0]=function(){var e=window.gameWindow.getGuiArchitectureInstance.apply(window.gameWindow,[window.gameWindow.config]);e!==I&&(i(e),I=e)};for(var l=function(){var t=d[u],n=(m=Object(a.a)(t,2))[0],r=m[1];if(r.path.includes("color")){var i=void 0===r.valueInConfig?"primary":"secondary";e.push(s.a.createElement(o.a,{key:n,variant:"contained",onClick:function(){var e=prompt("Enter the new value for "+r.path.join(" ")+"\n\n at delta "+r.delta+"\n\nCurrent Value: "+r.valueInConfig);if(null!=e){var t=localStorage.getItem("config");t+="\ndeltas\t"+r.delta+"\t"+r.path.join("\t")+" "+e,window.gameWindow.setConfigDjsonInLocalStorage(t)}},size:"small",color:i},"deltas "+r.delta+" "+r.path.join(" ")))}},u=0,d=Object.entries(r);u<d.length;u++){var m;l()}return s.a.createElement("table",{style:{flexGrow:4,display:"flex",flexDirection:"column"}},e)}setInterval(window.tryRefreshInstance,100),window.refreshInstance=void 0,window.gameWindow=void 0;var x=[function(){}];function D(){var e=prompt('Please enter the 4 character code (case-sensitive) that you received when pressing "Save Config"');"string"===typeof e&&4===e.length?window.loadConfigFromServer(e):e?(alert("Please enter a four character code (you entered "+JSON.stringify(e)+", which has "+e.length+" characters)"),D()):alert("Loading config from server cancelled.")}function P(){var e=Object(c.useState)(window.getDeltasGuiSchema()),t=Object(a.a)(e,2),n=t[0],r=t[1];window.refreshGuiSchema=function(){return r(window.getDeltasGuiSchema())};return s.a.createElement("div",{style:{display:"flex",flexDirection:"horizontal",width:"25%",height:"100%"}},s.a.createElement("div",{style:{border:10,backgroundColor:"rgba(255,255,255,.3)",flexGrow:4,display:"flex",flexDirection:"column",overflowY:"scroll",pointerEvents:"auto"}},s.a.createElement("h1",{style:{color:"white"}},"Config"),s.a.createElement(o.a,{variant:"contained",size:"small",color:"primary",onClick:function(){return window.saveConfigToServer()}}," Save Config "),s.a.createElement(o.a,{variant:"contained",size:"small",color:"primary",onClick:D}," Load Config "),s.a.createElement(o.a,{style:{pointerEvents:"auto"},onClick:window.undoEditorChange,variant:"contained",size:"small",color:"primary"}," Undo  "),s.a.createElement(o.a,{variant:"contained",size:"small",color:"primary",onClick:p}," Add Item "),s.a.createElement(o.a,{variant:"contained",size:"small",color:"primary",onClick:y}," Add Delta "),s.a.createElement(E,{schema:n}),s.a.createElement(O,null)))}setInterval(function(){if(void 0!==window.gameWindow){console.log("HO"),window.gameWindow.editorMode=!0;for(var e=0,t=x;e<t.length;e++)(0,t[e])()}},100),document.addEventListener("DOMContentLoaded",function(e){d.a.render(s.a.createElement(P,null),document.getElementById("root"))})}},[[93,1,2]]]);
//# sourceMappingURL=main.fd52aa24.chunk.js.map