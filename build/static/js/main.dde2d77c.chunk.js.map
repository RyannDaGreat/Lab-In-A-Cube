{"version":3,"sources":["index.js"],"names":["styledBy","property","mapping","props","styles","root","background","red","blue","border","borderRadius","boxShadow","color","height","padding","withStyles","classes","other","Object","_Users_Ryan_Desktop_CleanCode_SBU_LabInACube_Lab_In_A_Cube_node_modules_babel_runtime_helpers_esm_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_2__","react__WEBPACK_IMPORTED_MODULE_5___default","a","createElement","_material_ui_core_Button__WEBPACK_IMPORTED_MODULE_3___default","assign","className","Multiplexer","_ref","schema","_useState","useState","_useState2","_Users_Ryan_Desktop_CleanCode_SBU_LabInACube_Lab_In_A_Cube_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_1__","selectedOption","setSelectedOption","options","keys","map","key","value","label","react_select__WEBPACK_IMPORTED_MODULE_7__","style","width","onChange","x","Schema","addItemDialogs","name","itemDialog","prompt","window","config","items","alert","type","typeDialog","getItemSchemas","addLinesToConfigString","refreshPage","addDeltaDialog","d","deltaDialog","deltas","refreshGuiSchema","_ref6","_i","_Object$entries","entries","length","_ref5","_ref4","console","assert","isLeaf","LeafModifier","TextInput","_ref7","setValue","_material_ui_core_Input__WEBPACK_IMPORTED_MODULE_4___default","event","target","inputProps","aria-label","NumberInput","_ref8","_ref8$step","step","_material_ui_core_TextField__WEBPACK_IMPORTED_MODULE_10___default","SelectInput","_ref9","_ref9$values","values","BooleanInput","_ref10","_material_ui_core_Switch__WEBPACK_IMPORTED_MODULE_9___default","checked","Boolean","_ref11","undefined","input","set","paddingTop","backgroundColor","alignContent","disabled","path","state","handleNewLab","confirm","setConfigDjsonInLocalStorage","setInterval","tryRefreshInstance","refreshInstance","gameWindow","timerEvents","handleLoadConfig","_kwargs$concat","arguments","concat","code","loadConfigFromServer","JSON","stringify","viewMySaves","saves","getMySaves","join","App","_React$createElement","_useState5","getDeltasGuiSchema","_useState6","setSchema","display","flexDirection","flexGrow","overflowY","pointerEvents","textAlign","margin","fontWeight","variant","size","onClick","saveConfigToServer","undoEditorChange","_Users_Ryan_Desktop_CleanCode_SBU_LabInACube_Lab_In_A_Cube_node_modules_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_0__","log","editorMode","_i3","_timerEvents","document","addEventListener","ReactDOM","render","getElementById"],"mappings":"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","file":"static/js/main.dde2d77c.chunk.js","sourcesContent":["import AddIcon from '@material-ui/icons/Add'\nimport Button from '@material-ui/core/Button'\nimport DeleteIcon from '@material-ui/icons/Delete'\nimport Fab from '@material-ui/core/Fab'\nimport IconButton from '@material-ui/core/IconButton'\nimport Input from '@material-ui/core/Input'\nimport NavigationIcon from '@material-ui/icons/Navigation'\nimport PropTypes from 'prop-types'\nimport React from 'react'\nimport ReactDOM from 'react-dom'\nimport Select from 'react-select'\nimport Split from 'react-split'\nimport Switch from '@material-ui/core/Switch'\nimport TextField from '@material-ui/core/TextField'\nimport {useState} from 'react'\nimport {withStyles} from '@material-ui/core/styles'\n\n\n\n\t\t\t//ALL FROM https://material-ui.com/css-in-js/basics/\n\t\t\t// Like https://github.com/brunobertolini/styled-by\n\t\t\tconst styledBy = (property, mapping) => props => mapping[props[property]];\n\n\t\t\tconst styles = {\n\t\t\t  root: {\n\t\t\t    background: styledBy('color', {\n\t\t\t      red: 'linear-gradient(45deg, #FE6B8B 30%, #FF8E53 90%)',\n\t\t\t      blue: 'linear-gradient(45deg, #2196F3 30%, #21CBF3 90%)',\n\t\t\t    }),\n\t\t\t    border: 0,\n\t\t\t    borderRadius: 3,\n\t\t\t    boxShadow: styledBy('color', {\n\t\t\t      red: '0 3px 5px 2px rgba(255, 105, 135, .3)',\n\t\t\t      blue: '0 3px 5px 2px rgba(33, 203, 243, .3)',\n\t\t\t    }),\n\t\t\t    color: 'white',\n\t\t\t    height: 48,\n\t\t\t    padding: '0 30px',\n\t\t\t  },\n\t\t\t};\n\n\t\t\tfunction MyButtonRaw(props) {\n\t\t\t  const { classes, color, ...other } = props;\n\t\t\t  return <Button className={classes.root} {...other} />;\n\t\t\t}\n\n\t\t\tMyButtonRaw.propTypes = {\n\t\t\t  classes: PropTypes.object.isRequired,\n\t\t\t  color: PropTypes.string.isRequired,\n\t\t\t};\n\n\t\t\tconst MyButton = withStyles(styles)(MyButtonRaw);\n\n\n\n\n\n\n\n\nfunction Multiplexer({schema})\n{\n\tconst [selectedOption, setSelectedOption]=useState(null)\n\tif(!schema)\n\t\treturn <div></div>\n\tconst options                            =Object.keys(schema).map(key=>({value: key, label: key}))\n\treturn <div>\n\t\t<Select style={{width:'100%'}} value={{label: selectedOption}}\n\t\t\t\tonChange={x=>setSelectedOption(x.value)}\n\t\t\t\toptions={options}\n\t\t/>\n\t\t<div style={{width:'100%'}}>\n\t\t<table style={{width:'100%'}}>\n\t\t<tr style={{width:'100%'}}>\n\t\t<td style={{width:'10px'}}>\n\t\t{}\n\t\t</td>\n\t\t<td style={{width:'100%'}}>\n\t\t\t<Schema schema={schema[selectedOption]}/>\n\t\t\t</td>\n\t\t\t</tr>\n\t\t\t</table>\n\t\t</div>\n\t</div>\n}\n\nfunction StringInput({schema})\n{\n\treturn <div>{schema}</div>\n}\n\nfunction isLeaf(schema)\n{\n\tif(typeof schema!=='object')\n\t\treturn 'type'\n\tfor(const [index,value] of Object.entries(schema))\n\t{\n\t\tif(typeof value==='string')\n\t\t{\n\t\t\tconsole.assert('type' in schema)\n\t\t\treturn true\n\t\t}\n\t}\n\treturn false\n}\n\nfunction addItemDialogs()\n{\n\tfunction itemDialog()\n\t{\n\t\tconst value=prompt(\"Enter the new item name:\")\n\t\tif(!value)\n\t\t\treturn alert('Canceled adding item')\n\t\telse if(value in window.config.items)\n\t\t{\n\t\t\talert('Sorry, that names already taken! Try another one...')\n\t\t\treturn itemDialog()\n\t\t}\n\t\treturn value\n\t}\n\tfunction typeDialog()\n\t{\n\t\tconst value=prompt(\"Enter the new item type! Please choose from: \"+Object.keys(window.getItemSchemas()))\n\t\tif(!value)\n\t\t\treturn alert('Canceled adding item')\n\t\telse if(!(value in (window.getItemSchemas())))\n\t\t{\n\t\t\talert('Sorry, thats not a module type! Please choose from: '+Object.keys((window.getItemSchemas())))\n\t\t\treturn typeDialog()\n\t\t}\n\t\treturn value\n\t}\n\tconst name=itemDialog()\n\tif(!name)\n\t\treturn\n\tconst type=typeDialog()\n\tif(!type)\n\t\treturn\n\talert(\"Success! Added item. Please refresh the page to see changes.\")\n\twindow.addLinesToConfigString('items\t'+name+' '+type)\n\twindow.refreshPage()\n}\n\nfunction addDeltaDialog()\n{\n\tfunction deltaDialog()\n\t{\n\t\tconst value=prompt(\"Enter the new delta name:\")\n\t\tif(!value)\n\t\t\treturn alert('Canceled adding delta')\n\t\telse if(value in window.config.deltas)\n\t\t{\n\t\t\talert('Sorry, that names already taken! Try another one...')\n\t\t\treturn deltaDialog()\n\t\t}\n\t\treturn value\n\t}\n\tconst d=deltaDialog()\n\tif(!d)return\n\talert(\"Success! Added delta. You will now see it in the top dropdown menu.\")\n\twindow.addLinesToConfigString('deltas\t'+d)\n\twindow.refreshGuiSchema()\n}\n\nfunction Schema({schema})\n{\n\tif(!schema)\n\t\treturn <div></div>\n\tif(isLeaf(schema))\n\t{\n\t\treturn <LeafModifier schema={schema}/>\n\t}\n\telse\n\t{\n\t\treturn <Multiplexer schema={schema}/>\n\t}\n}\n\nfunction TextInput({value,setValue})\n{\n\treturn <Input\n        value={value}\n        onChange={event=>{setValue(event.target.value)}}\n        // className={classes.input}\n        inputProps={{\n          'aria-label': 'Description',\n        }}/>\n}\nfunction NumberInput({value,setValue,step=.1})\n{\n\treturn <TextField\n\ttype=\"number\"\n        value={value}\n\n     inputProps={{ /*min: \"0\", max: \"10\",*/ step: step }}\n        onChange={event=>{setValue(event.target.value)}}\n        // className={classes.input}\n        />\n}\n\nfunction SelectInput({value,setValue,values=[]})\n{\n\treturn <Select value={{label: value}}\n\t\t\t\t   onChange={x=>setValue(x.value)}\n\t\t\t\t   options={values.map(key=>({value: key, label: key}))}\n\t/>\n}\n\nfunction BooleanInput({value,setValue})\n{\n\treturn <Switch\n\t\tchecked={Boolean(value)}\n\t\tonChange={event=>setValue(event.target.checked)}\n\t\tcolor=\"primary\"\n\t\t/>\n}\n\nfunction LeafModifier({schema})\n{\n\tlet onClick=function()\n\t{\n\t\tconst value=prompt(\"Enter the new value:\")\n\t\tif(value==null)\n\t\t\treturn//Canceled\n\t\telse\n\t\t{\n\t\t\tschema.set(value)\n\t\t}\n\t}\n\n\tconst checked=schema.config!==undefined\n\t// alert(\"ASOIJD\")\n\tlet input=<TextInput value={schema.config} setValue={schema.set}/>\n\tif(schema.type==='string')\n\t{\n\t\tinput=input//Default: text input\n\t}\n\telse if(schema.type==='boolean')\n\t{\n\t\tinput=<BooleanInput value={schema.config} setValue={schema.set}/>\n\t}\n\telse if(schema.type==='number')\n\t{\n\t\tinput=<NumberInput value={schema.config} setValue={schema.set}/>\n\t}\n\telse if(schema.type==='select')\n\t{\n\t\tinput=<SelectInput value={schema.config} values={schema.values} setValue={schema.set}/>\n\t}\n\tconsole.assert(input!==undefined)\n\treturn <div style={{padding:20,paddingTop:10,backgroundColor:'rgba(255,255,255,.5)',borderRadius:30,alignContent: 'center'}}>\n\t<Switch\n\t\tchecked={checked}\n\t\tdisabled={schema.path[0]==='initial'}\n\t\tonChange={event=>{const checked=event.target.checked;if(checked)/*alert(schema.state+'  '+schema.config)*/;schema.set(checked?schema.state:null)}}//if(!checked){schema.set(undefined)}else{console.assert(checked);setUsed(checked)}}}\n\t\tcolor=\"primary\"\n\t\t/>{checked?\"(In delta)\":\"(Not in delta)\"}<br/>\n\t{checked?input : <div></div>}\n\t\n\t\t\t\t   </div>\n\n\t\t//\t\t   <Button\n\t\t//\tvariant=\"contained\" onClick={onClick}\n\t\t//\tsize=\"small\"\n\t\t//\t\t   >{'State: '+schema.state+'\\tConfig: '+schema.config/*schema.path+''*/}</Button>\n}\n\nlet oldStuff=undefined\nsetInterval(window.tryRefreshInstance,100)\nfunction tryRefreshInstance()\n{\n\tif(window.refreshInstance)\n\t\twindow.refreshInstance()\n}\nwindow.refreshInstance=undefined\nfunction GetSimpleGui()\n{\n\tconst labels               =[]\n\tlet [instance, setInstance]=useState({})\n\twindow.refreshInstance=()=>setInstance(window.getGuiArchitectureInstance())\n\ttimerEvents[0]             =()=>\n\t{\n\t\tlet stuff=window.gameWindow.getGuiArchitectureInstance.apply(window.gameWindow, [window.gameWindow.config])\n\t\tif(stuff!==oldStuff)\n\t\t{\n\t\t\tsetInstance(stuff)\n\t\t\toldStuff=stuff\n\t\t}\n\t}//This function is inefficient. It must be cleaned up asap. (it lists all possible controls...which is just STUPID (but also very easy to make))\n\n\tfor(const [index, i] of Object.entries(instance))\n\t{\n\t\tif(i.path.includes('color'))\n\t\t{\n\t\t\tlet onClick=function()\n\t\t\t{\n\t\t\t\tconst value=prompt(\"Enter the new value for \"+(i.path.join(' '))+\n\t\t\t\t\t\t\t\t\t   '\\n\\n at delta '+(i.delta)+'\\n\\nCurrent Value: '+i.valueInConfig)\n\t\t\t\tif(value==null)\n\t\t\t\t\treturn//Canceled\n\t\t\t\telse\n\t\t\t\t{\n\t\t\t\t\tlet configString=localStorage.getItem('config')\n\t\t\t\t\tconfigString+='\\n'+'deltas\t'+i.delta+'\t'+i.path.join('\t')+' '+value\n\t\t\t\t\twindow.gameWindow.setConfigDjsonInLocalStorage(configString)\n\t\t\t\t}\n\t\t\t}\n\t\t\tlet color  =i.valueInConfig===undefined ? \"primary\" : \"secondary\"\n\t\t\tlabels.push(<Button key={index}\n\t\t\t\t\t\t\t\tvariant=\"contained\" onClick={onClick}\n\t\t\t\t\t\t\t\tsize=\"small\"\n\t\t\t\t\t\t\t\tcolor={color}>\n\t\t\t\t{'deltas '+i.delta+' '+i.path.join(' ')}\n\t\t\t</Button>)\n\t\t}\n\t}\n\treturn <table style={{flexGrow: 4, display: 'flex', flexDirection: 'column'}}>\n\t\t{labels}\n\t</table>\n}\n\nfunction handleNewLab()\n{\n\tif(window.confirm('Are you sure you want to create a new lab (all progress will be lost)?'))\n\t{\n\t\twindow.setConfigDjsonInLocalStorage('')\n\t\twindow.refreshPage()\n\t}\n\n}\n\nwindow.gameWindow=undefined//Will be set to the 'window' element of the 'game.html' iframe\nconst timerEvents=[()=>{}]//Calls each one of these on a timer\nfunction doTimerEvents()\n{\n\tif(window.gameWindow!==undefined)//We're not ready yet: the game iframe has to finish loading first\n\t{\n\t\tconsole.log(\"HO\")\n\t\twindow.gameWindow.editorMode=true\n\t\tfor(const event of timerEvents)\n\t\t\tevent()\n\t}\n}\nsetInterval(doTimerEvents, 100)\n\nfunction handleLoadConfig(kwargs={})\n{\n\tconst {concat=false}=kwargs\n\tconst code=prompt('Please enter the 4 character code (case-sensitive) that you received when pressing \"Save Config\"')\n\tif(typeof code==='string' && code.length===4)\n\t{\n\t\twindow.loadConfigFromServer(code,{concat})\n\t}\n\telse if(!code)\n\t{\n\t\talert('Loading config from server cancelled.')\n\t}\n\telse\n\t{\n\t\talert('Please enter a four character code (you entered '+JSON.stringify(code)+', which has '+code.length+' characters)')\n\t\thandleLoadConfig()\n\t}\n}\n\nfunction viewMySaves()\n{\n\tconst saves=window.getMySaves()\n\tif(!saves.length)\n\t\twindow.alert('You currently have no saved labs.')\n\telse\n\t\twindow.alert(\"All of your saved file codes (bottom is most recent):\"+'\\n'+saves.join('\\n'))\n}\n\nfunction App()\n{\n\tfunction setGameWindow(x)\n\t{\n\t\twindow.gameWindow=x.contentWindow\n\t}\n\t//Lab\n\tconst [schema,setSchema]=useState(window.getDeltasGuiSchema())\n\twindow.refreshGuiSchema=()=>setSchema(window.getDeltasGuiSchema())\n\tlet gameStyle={width: '100%', height: '100%', border: '0'}\n\t// noinspection HtmlUnknownTarget\n\treturn <div style={{display: 'flex', flexDirection: 'horizontal', width: '25%', height: '100%'}}>\n\t\t<div style={{padding:10,border: 10, backgroundColor: 'rgba(255,255,255,.3)', flexGrow: 4, display: 'flex', flexDirection: 'column', overflowY: 'scroll', pointerEvents: 'auto'}}>\n\t\t\t<h1 style={{color: 'white',textAlign:'center'}}>Lab<sup>3</sup></h1>\n\t\t\t<br/>\n\t\t\t<Button style={{margin:1,fontWeight: 'bold'}} variant=\"contained\" size=\"small\" color=\"secondary\" onClick={handleNewLab}> New Lab </Button>\n\t\t\t<Button style={{margin:1,fontWeight: 'bold'}} variant=\"contained\" size=\"small\" color=\"secondary\" onClick={()=>window.saveConfigToServer()}> Save Lab </Button>\n\t\t\t<Button style={{margin:1,fontWeight: 'bold'}} variant=\"contained\" size=\"small\" color=\"secondary\" onClick={viewMySaves}> View Saved Labs </Button>\n\t\t\t<Button style={{margin:1,fontWeight: 'bold'}} variant=\"contained\" size=\"small\" color=\"secondary\" onClick={handleLoadConfig}> Load Lab </Button>\n\t\t\t<Button style={{margin:1,fontWeight: 'bold'}} variant=\"contained\" size=\"small\" color=\"secondary\" onClick={()=>handleLoadConfig({concat:true})}> Append Lab </Button>\n\t\t\t<Button style={{margin:1,fontWeight: 'bold'}}\tvariant=\"contained\" size=\"small\" color=\"primary\"\t  onClick={window.undoEditorChange}variant=\"contained\" size=\"small\" color=\"primary\"> Undo  </Button>\n\t\t\t<Button style={{margin:1,fontWeight: 'bold'}} variant=\"contained\" size=\"small\" color=\"primary\" onClick={addItemDialogs}> Add Item </Button>\n\t\t\t<Button style={{margin:1,fontWeight: 'bold'}} variant=\"contained\" size=\"small\" color=\"primary\" onClick={addDeltaDialog}> Add Delta </Button>\n\t\t\t<br/>\n\t\t\t<div style={{width:'100%'}}><Schema schema={schema}></Schema></div>\n\t\t</div>\n\t</div>\n}\ndocument.addEventListener(\"DOMContentLoaded\", function(event)\n{\n\tReactDOM.render(<App/>, document.getElementById('root'))\n\t// Your code to run since DOM is loaded and ready\n})\n"],"sourceRoot":""}